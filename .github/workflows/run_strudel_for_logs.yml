name: run-e2e-tests-on-docker
# source: https://github.com/marketplace/actions/install-poetry-action


on:
  push:
    branches: [ "main" ]

jobs:
  e2e-tests-docker:
    runs-on: ubuntu-22.04
    steps:
      #----------------------------------------------
      #       check-out repo and set-up python
      #----------------------------------------------
      - name: Check out repository
        uses: actions/checkout@v4
        with:
          token: ${{ secrets.GITHUB_TOKEN }}


      - name: Clone the Strudel manager Repository
        run: |
          echo $PWD
          export current_dir=$(pwd)
          cd /tmp
          git clone https://github.com/strudel-ai/strudel-public.git
          cd strudel-public
          ls -alt
          git checkout main
          cd $current_dir
          echo $PWD

      - name: Install python
        uses: actions/setup-python@v5
        with:
         python-version: '3.10.12'
